# =============================================================================
# Archevi Strapi CMS - Production Environment Variables
# =============================================================================
# For Railway/Render: Add these in the dashboard
# For Docker: Pass via docker-compose or -e flags
# For Strapi Cloud: Configure in project settings
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=1337
NODE_ENV=production

# App keys (generate with: openssl rand -base64 32)
APP_KEYS=key1,key2,key3,key4
API_TOKEN_SALT=your_api_token_salt_here
ADMIN_JWT_SECRET=your_admin_jwt_secret_here
TRANSFER_TOKEN_SALT=your_transfer_token_salt_here
JWT_SECRET=your_jwt_secret_here

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
# Option A: Connection string (Railway/Render provide this)
DATABASE_URL=postgresql://user:password@host:5432/database?sslmode=require

# Option B: Individual credentials
DATABASE_CLIENT=postgres
DATABASE_HOST=your-db-host.com
DATABASE_PORT=5432
DATABASE_NAME=strapi
DATABASE_USERNAME=strapi
DATABASE_PASSWORD=your_secure_password
DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=false

# Connection pool
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# -----------------------------------------------------------------------------
# Media Storage (choose one)
# -----------------------------------------------------------------------------

# Option 1: Cloudflare R2 (recommended - $0 egress)
# CF_ACCESS_KEY_ID=your_r2_access_key
# CF_ACCESS_SECRET=your_r2_secret_key
# CF_ENDPOINT=https://account_id.r2.cloudflarestorage.com
# CF_BUCKET=archevi-media
# CF_PUBLIC_URL=https://media.archevi.ca

# Option 2: AWS S3
# AWS_ACCESS_KEY_ID=your_aws_key
# AWS_ACCESS_SECRET=your_aws_secret
# AWS_REGION=us-east-1
# AWS_BUCKET=archevi-media

# Option 3: Cloudinary
# CLOUDINARY_NAME=your_cloud_name
# CLOUDINARY_KEY=your_api_key
# CLOUDINARY_SECRET=your_api_secret

# -----------------------------------------------------------------------------
# CORS & Security
# -----------------------------------------------------------------------------
# Allowed origins for API requests
STRAPI_ADMIN_BACKEND_URL=https://cms.archevi.ca

# -----------------------------------------------------------------------------
# Optional: Email (for password resets)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USERNAME=apikey
# SMTP_PASSWORD=your_sendgrid_api_key
# SMTP_FROM=noreply@archevi.ca
